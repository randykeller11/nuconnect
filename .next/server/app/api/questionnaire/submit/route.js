/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/questionnaire/submit/route";
exports.ids = ["app/api/questionnaire/submit/route"];
exports.modules = {

/***/ "(rsc)/./app/api/questionnaire/submit/route.ts":
/*!***********************************************!*\
  !*** ./app/api/questionnaire/submit/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _server_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../server/storage.js */ \"(rsc)/./server/storage.js\");\n/* harmony import */ var _server_storage_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_server_storage_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { userId, answers, isComplete = false } = body;\n        if (!userId || !answers) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Missing required fields'\n            }, {\n                status: 400\n            });\n        }\n        // Save or update the questionnaire response using the storage layer\n        const response = await _server_storage_js__WEBPACK_IMPORTED_MODULE_1__.storage.createOrUpdateQuestionnaireResponse(userId, answers, isComplete);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.error('Error saving questionnaire:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to save questionnaire'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3F1ZXN0aW9ubmFpcmUvc3VibWl0L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDQTtBQUVoRCxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGFBQWEsS0FBSyxFQUFFLEdBQUdKO1FBRWhELElBQUksQ0FBQ0UsVUFBVSxDQUFDQyxTQUFTO1lBQ3ZCLE9BQU9QLHFEQUFZQSxDQUFDSyxJQUFJLENBQ3RCO2dCQUFFSSxPQUFPO1lBQTBCLEdBQ25DO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxvRUFBb0U7UUFDcEUsTUFBTUMsV0FBVyxNQUFNVix1REFBT0EsQ0FBQ1csbUNBQW1DLENBQUNOLFFBQVFDLFNBQVNDO1FBRXBGLE9BQU9SLHFEQUFZQSxDQUFDSyxJQUFJLENBQUNNO0lBQzNCLEVBQUUsT0FBT0YsT0FBTztRQUNkSSxRQUFRSixLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxPQUFPVCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtZQUFFSSxPQUFPO1FBQStCLEdBQ3hDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvZHViX2Nlby9Eb3dubG9hZHMvbW9kZXJuLW1hdHJpbW9uZXkvYXBwL2FwaS9xdWVzdGlvbm5haXJlL3N1Ym1pdC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmVyL3N0b3JhZ2UuanMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyB1c2VySWQsIGFuc3dlcnMsIGlzQ29tcGxldGUgPSBmYWxzZSB9ID0gYm9keVxuICAgIFxuICAgIGlmICghdXNlcklkIHx8ICFhbnN3ZXJzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIC8vIFNhdmUgb3IgdXBkYXRlIHRoZSBxdWVzdGlvbm5haXJlIHJlc3BvbnNlIHVzaW5nIHRoZSBzdG9yYWdlIGxheWVyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdG9yYWdlLmNyZWF0ZU9yVXBkYXRlUXVlc3Rpb25uYWlyZVJlc3BvbnNlKHVzZXJJZCwgYW5zd2VycywgaXNDb21wbGV0ZSlcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHF1ZXN0aW9ubmFpcmU6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBzYXZlIHF1ZXN0aW9ubmFpcmUnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdG9yYWdlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInVzZXJJZCIsImFuc3dlcnMiLCJpc0NvbXBsZXRlIiwiZXJyb3IiLCJzdGF0dXMiLCJyZXNwb25zZSIsImNyZWF0ZU9yVXBkYXRlUXVlc3Rpb25uYWlyZVJlc3BvbnNlIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/questionnaire/submit/route.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&page=%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestionnaire%2Fsubmit%2Froute.ts&appDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&page=%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestionnaire%2Fsubmit%2Froute.ts&appDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dub_ceo_Downloads_modern_matrimoney_app_api_questionnaire_submit_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/questionnaire/submit/route.ts */ \"(rsc)/./app/api/questionnaire/submit/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/questionnaire/submit/route\",\n        pathname: \"/api/questionnaire/submit\",\n        filename: \"route\",\n        bundlePath: \"app/api/questionnaire/submit/route\"\n    },\n    resolvedPagePath: \"/Users/dub_ceo/Downloads/modern-matrimoney/app/api/questionnaire/submit/route.ts\",\n    nextConfigOutput,\n    userland: _Users_dub_ceo_Downloads_modern_matrimoney_app_api_questionnaire_submit_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZxdWVzdGlvbm5haXJlJTJGc3VibWl0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZxdWVzdGlvbm5haXJlJTJGc3VibWl0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcXVlc3Rpb25uYWlyZSUyRnN1Ym1pdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmR1Yl9jZW8lMkZEb3dubG9hZHMlMkZtb2Rlcm4tbWF0cmltb25leSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZkdWJfY2VvJTJGRG93bmxvYWRzJTJGbW9kZXJuLW1hdHJpbW9uZXkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNnQztBQUM3RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2R1Yl9jZW8vRG93bmxvYWRzL21vZGVybi1tYXRyaW1vbmV5L2FwcC9hcGkvcXVlc3Rpb25uYWlyZS9zdWJtaXQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9xdWVzdGlvbm5haXJlL3N1Ym1pdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1ZXN0aW9ubmFpcmUvc3VibWl0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9xdWVzdGlvbm5haXJlL3N1Ym1pdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9kdWJfY2VvL0Rvd25sb2Fkcy9tb2Rlcm4tbWF0cmltb25leS9hcHAvYXBpL3F1ZXN0aW9ubmFpcmUvc3VibWl0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&page=%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestionnaire%2Fsubmit%2Froute.ts&appDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./server/storage.js":
/*!***************************!*\
  !*** ./server/storage.js ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst { createClient } = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n// Supabase connection\nif (!process.env.SUPABASE_URL || !process.env.SUPABASE_SERVICE_ROLE_KEY) {\n    throw new Error('SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY environment variables are required');\n}\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\nclass SupabaseStorage {\n    async createUser(userData) {\n        try {\n            let bcrypt;\n            try {\n                bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n            } catch (err) {\n                console.log('bcrypt not found, using bcryptjs as fallback');\n                bcrypt = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n            }\n            const hashedPassword = await bcrypt.hash(userData.password, 10);\n            const { data, error } = await supabase.from('users').insert({\n                email: userData.email,\n                password: hashedPassword,\n                first_name: userData.firstName,\n                last_name: userData.lastName,\n                phone: userData.phone,\n                relationship_status: userData.relationshipStatus\n            }).select().single();\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                email: data.email,\n                password: data.password,\n                firstName: data.first_name,\n                lastName: data.last_name,\n                phone: data.phone,\n                relationshipStatus: data.relationship_status,\n                createdAt: new Date(data.created_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to create user: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getUserByEmail(email) {\n        try {\n            const { data, error } = await supabase.from('users').select('*').eq('email', email).single();\n            if (error) {\n                if (error.code === 'PGRST116') return null;\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                email: data.email,\n                password: data.password,\n                firstName: data.first_name,\n                lastName: data.last_name,\n                phone: data.phone,\n                relationshipStatus: data.relationship_status,\n                createdAt: new Date(data.created_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to get user: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async validateUser(email, password) {\n        try {\n            const user = await this.getUserByEmail(email);\n            if (!user) return null;\n            let bcrypt;\n            try {\n                bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n            } catch (err) {\n                console.log('bcrypt not found, using bcryptjs as fallback');\n                bcrypt = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n            }\n            const isValid = await bcrypt.compare(password, user.password);\n            return isValid ? user : null;\n        } catch (error) {\n            throw new Error(`Failed to validate user: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getUserById(userId) {\n        try {\n            const { data, error } = await supabase.from('users').select('*').eq('id', userId).single();\n            if (error) {\n                if (error.code === 'PGRST116') return null;\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                email: data.email,\n                password: data.password,\n                firstName: data.first_name,\n                lastName: data.last_name,\n                phone: data.phone,\n                relationshipStatus: data.relationship_status,\n                createdAt: new Date(data.created_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to get user by ID: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async createOrUpdateQuestionnaireResponse(userId, answers, isComplete = false) {\n        try {\n            const { data: existing, error: findError } = await supabase.from('questionnaire_responses').select('*').eq('user_id', userId).single();\n            if (existing) {\n                const { data, error } = await supabase.from('questionnaire_responses').update({\n                    answers: answers,\n                    is_complete: isComplete,\n                    updated_at: new Date().toISOString()\n                }).eq('id', existing.id).select().single();\n                if (error) {\n                    throw new Error(`Supabase error: ${error.message}`);\n                }\n                return {\n                    id: data.id,\n                    userId: data.user_id,\n                    answers: data.answers,\n                    isComplete: data.is_complete,\n                    submittedAt: new Date(data.submitted_at),\n                    updatedAt: new Date(data.updated_at)\n                };\n            } else {\n                const { data, error } = await supabase.from('questionnaire_responses').insert({\n                    user_id: userId,\n                    answers: answers,\n                    is_complete: isComplete\n                }).select().single();\n                if (error) {\n                    throw new Error(`Supabase error: ${error.message}`);\n                }\n                return {\n                    id: data.id,\n                    userId: data.user_id,\n                    answers: data.answers,\n                    isComplete: data.is_complete,\n                    submittedAt: new Date(data.submitted_at),\n                    updatedAt: new Date(data.updated_at)\n                };\n            }\n        } catch (error) {\n            throw new Error(`Failed to save questionnaire response: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getQuestionnaireResponseByUserId(userId) {\n        try {\n            const { data, error } = await supabase.from('questionnaire_responses').select('*').eq('user_id', userId).single();\n            if (error) {\n                if (error.code === 'PGRST116') return null;\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                userId: data.user_id,\n                answers: data.answers,\n                isComplete: data.is_complete,\n                submittedAt: new Date(data.submitted_at),\n                updatedAt: new Date(data.updated_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to get questionnaire response: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async createQuestionnaireResponse(insertResponse) {\n        try {\n            console.log('Attempting to insert questionnaire response:', insertResponse);\n            const { data, error } = await supabase.from('questionnaire_responses').insert({\n                user_id: insertResponse.userId,\n                answers: insertResponse.answers\n            }).select().single();\n            if (error) {\n                console.error('Supabase error details:', {\n                    message: error.message,\n                    details: error.details,\n                    hint: error.hint,\n                    code: error.code\n                });\n                throw new Error(`Supabase error: ${error.message} (Code: ${error.code}, Details: ${error.details})`);\n            }\n            return {\n                id: data.id,\n                userId: data.user_id,\n                answers: data.answers,\n                submittedAt: new Date(data.submitted_at)\n            };\n        } catch (error) {\n            console.error('Full error object:', error);\n            throw new Error(`Failed to create questionnaire response: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getAllQuestionnaireResponses() {\n        try {\n            const { data, error } = await supabase.from('questionnaire_responses').select('*').order('submitted_at', {\n                ascending: false\n            });\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return (data || []).map((item)=>({\n                    id: item.id,\n                    userId: item.user_id,\n                    answers: item.answers,\n                    submittedAt: new Date(item.submitted_at)\n                }));\n        } catch (error) {\n            throw new Error(`Failed to fetch questionnaire responses: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async createProfessionalSignup(insertSignup) {\n        try {\n            const { data, error } = await supabase.from('professional_signups').insert(insertSignup).select().single();\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                name: data.name,\n                firm: data.firm,\n                email: data.email,\n                phone: data.phone,\n                specialty: data.specialty,\n                submittedAt: new Date(data.submitted_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to create professional signup: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getAllProfessionalSignups() {\n        try {\n            const { data, error } = await supabase.from('professional_signups').select('*').order('submitted_at', {\n                ascending: false\n            });\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return (data || []).map((item)=>({\n                    id: item.id,\n                    name: item.name,\n                    firm: item.firm,\n                    email: item.email,\n                    phone: item.phone,\n                    specialty: item.specialty,\n                    submittedAt: new Date(item.submitted_at)\n                }));\n        } catch (error) {\n            throw new Error(`Failed to fetch professional signups: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async createContactSubmission(insertSubmission) {\n        try {\n            const { data, error } = await supabase.from('contact_submissions').insert({\n                first_name: insertSubmission.firstName,\n                last_name: insertSubmission.lastName,\n                email: insertSubmission.email,\n                phone: insertSubmission.phone,\n                relationship_status: insertSubmission.relationshipStatus,\n                message: insertSubmission.message\n            }).select().single();\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return {\n                id: data.id,\n                firstName: data.first_name,\n                lastName: data.last_name,\n                email: data.email,\n                phone: data.phone,\n                relationshipStatus: data.relationship_status,\n                message: data.message,\n                submittedAt: new Date(data.submitted_at)\n            };\n        } catch (error) {\n            throw new Error(`Failed to create contact submission: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    async getAllContactSubmissions() {\n        try {\n            const { data, error } = await supabase.from('contact_submissions').select('*').order('submitted_at', {\n                ascending: false\n            });\n            if (error) {\n                throw new Error(`Supabase error: ${error.message}`);\n            }\n            return (data || []).map((item)=>({\n                    id: item.id,\n                    firstName: item.first_name,\n                    lastName: item.last_name,\n                    email: item.email,\n                    phone: item.phone,\n                    relationshipStatus: item.relationship_status,\n                    message: item.message,\n                    submittedAt: new Date(item.submitted_at)\n                }));\n        } catch (error) {\n            throw new Error(`Failed to fetch contact submissions: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n}\nconst storage = new SupabaseStorage();\nmodule.exports = {\n    storage,\n    SupabaseStorage\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdCO2dCQUFFQyxXQUFXO1lBQU07WUFFNUMsSUFBSS9DLE9BQU87Z0JBQ1QsTUFBTSxJQUFJYixNQUFNLENBQUMsZ0JBQWdCLEVBQUVhLE1BQU1hLE9BQU8sRUFBRTtZQUNwRDtZQUVBLE9BQU8sQ0FBQ2QsUUFBUSxFQUFFLEVBQUVpRCxHQUFHLENBQUNDLENBQUFBLE9BQVM7b0JBQy9CbkMsSUFBSW1DLEtBQUtuQyxFQUFFO29CQUNYVCxXQUFXNEMsS0FBSzdDLFVBQVU7b0JBQzFCRyxVQUFVMEMsS0FBSzNDLFNBQVM7b0JBQ3hCSCxPQUFPOEMsS0FBSzlDLEtBQUs7b0JBQ2pCSyxPQUFPeUMsS0FBS3pDLEtBQUs7b0JBQ2pCRSxvQkFBb0J1QyxLQUFLeEMsbUJBQW1CO29CQUM1Q0ksU0FBU29DLEtBQUtwQyxPQUFPO29CQUNyQndCLGFBQWEsSUFBSXJCLEtBQUtpQyxLQUFLWCxZQUFZO2dCQUN6QztRQUNGLEVBQUUsT0FBT3RDLE9BQU87WUFDZCxNQUFNLElBQUliLE1BQU0sQ0FBQyxxQ0FBcUMsRUFBRWEsaUJBQWlCYixRQUFRYSxNQUFNYSxPQUFPLEdBQUcsaUJBQWlCO1FBQ3BIO0lBQ0Y7QUFDRjtBQUVBLE1BQU04QyxVQUFVLElBQUl0RTtBQUVwQnVFLE9BQU9DLE9BQU8sR0FBRztJQUFFRjtJQUFTdEU7QUFBZ0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9kdWJfY2VvL0Rvd25sb2Fkcy9tb2Rlcm4tbWF0cmltb25leS9zZXJ2ZXIvc3RvcmFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gcmVxdWlyZSgnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJyk7XG5cbi8vIFN1cGFiYXNlIGNvbm5lY3Rpb25cbmlmICghcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIHx8ICFwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZKSB7XG4gIHRocm93IG5ldyBFcnJvcignU1VQQUJBU0VfVVJMIGFuZCBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgcmVxdWlyZWQnKTtcbn1cblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCxcbiAgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWVxuKTtcblxuY2xhc3MgU3VwYWJhc2VTdG9yYWdlIHtcbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyRGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgYmNyeXB0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0Jyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2JjcnlwdCBub3QgZm91bmQsIHVzaW5nIGJjcnlwdGpzIGFzIGZhbGxiYWNrJyk7XG4gICAgICAgIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHVzZXJEYXRhLnBhc3N3b3JkLCAxMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgICAgZmlyc3RfbmFtZTogdXNlckRhdGEuZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3RfbmFtZTogdXNlckRhdGEubGFzdE5hbWUsXG4gICAgICAgICAgcGhvbmU6IHVzZXJEYXRhLnBob25lLFxuICAgICAgICAgIHJlbGF0aW9uc2hpcF9zdGF0dXM6IHVzZXJEYXRhLnJlbGF0aW9uc2hpcFN0YXR1cyxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogZGF0YS5wYXNzd29yZCxcbiAgICAgICAgZmlyc3ROYW1lOiBkYXRhLmZpcnN0X25hbWUsXG4gICAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3RfbmFtZSxcbiAgICAgICAgcGhvbmU6IGRhdGEucGhvbmUsXG4gICAgICAgIHJlbGF0aW9uc2hpcFN0YXR1czogZGF0YS5yZWxhdGlvbnNoaXBfc3RhdHVzLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRhdGEuY3JlYXRlZF9hdCksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdXNlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlFbWFpbChlbWFpbCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGw7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogZGF0YS5wYXNzd29yZCxcbiAgICAgICAgZmlyc3ROYW1lOiBkYXRhLmZpcnN0X25hbWUsXG4gICAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3RfbmFtZSxcbiAgICAgICAgcGhvbmU6IGRhdGEucGhvbmUsXG4gICAgICAgIHJlbGF0aW9uc2hpcFN0YXR1czogZGF0YS5yZWxhdGlvbnNoaXBfc3RhdHVzLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRhdGEuY3JlYXRlZF9hdCksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgdXNlcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB2YWxpZGF0ZVVzZXIoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldFVzZXJCeUVtYWlsKGVtYWlsKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cbiAgICAgIGxldCBiY3J5cHQ7XG4gICAgICB0cnkge1xuICAgICAgICBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnYmNyeXB0IG5vdCBmb3VuZCwgdXNpbmcgYmNyeXB0anMgYXMgZmFsbGJhY2snKTtcbiAgICAgICAgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICBcbiAgICAgIHJldHVybiBpc1ZhbGlkID8gdXNlciA6IG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHZhbGlkYXRlIHVzZXI6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckJ5SWQodXNlcklkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGw7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogZGF0YS5wYXNzd29yZCxcbiAgICAgICAgZmlyc3ROYW1lOiBkYXRhLmZpcnN0X25hbWUsXG4gICAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3RfbmFtZSxcbiAgICAgICAgcGhvbmU6IGRhdGEucGhvbmUsXG4gICAgICAgIHJlbGF0aW9uc2hpcFN0YXR1czogZGF0YS5yZWxhdGlvbnNoaXBfc3RhdHVzLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRhdGEuY3JlYXRlZF9hdCksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgdXNlciBieSBJRDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVPclVwZGF0ZVF1ZXN0aW9ubmFpcmVSZXNwb25zZSh1c2VySWQsIGFuc3dlcnMsIGlzQ29tcGxldGUgPSBmYWxzZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nLCBlcnJvcjogZmluZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncXVlc3Rpb25uYWlyZV9yZXNwb25zZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdxdWVzdGlvbm5haXJlX3Jlc3BvbnNlcycpXG4gICAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgICBhbnN3ZXJzOiBhbnN3ZXJzLFxuICAgICAgICAgICAgaXNfY29tcGxldGU6IGlzQ29tcGxldGUsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXEoJ2lkJywgZXhpc3RpbmcuaWQpXG4gICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgdXNlcklkOiBkYXRhLnVzZXJfaWQsXG4gICAgICAgICAgYW5zd2VyczogZGF0YS5hbnN3ZXJzLFxuICAgICAgICAgIGlzQ29tcGxldGU6IGRhdGEuaXNfY29tcGxldGUsXG4gICAgICAgICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKGRhdGEuc3VibWl0dGVkX2F0KSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKGRhdGEudXBkYXRlZF9hdCksXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdxdWVzdGlvbm5haXJlX3Jlc3BvbnNlcycpXG4gICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBhbnN3ZXJzOiBhbnN3ZXJzLFxuICAgICAgICAgICAgaXNfY29tcGxldGU6IGlzQ29tcGxldGUsXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdXBhYmFzZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICB1c2VySWQ6IGRhdGEudXNlcl9pZCxcbiAgICAgICAgICBhbnN3ZXJzOiBkYXRhLmFuc3dlcnMsXG4gICAgICAgICAgaXNDb21wbGV0ZTogZGF0YS5pc19jb21wbGV0ZSxcbiAgICAgICAgICBzdWJtaXR0ZWRBdDogbmV3IERhdGUoZGF0YS5zdWJtaXR0ZWRfYXQpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGF0YS51cGRhdGVkX2F0KSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBxdWVzdGlvbm5haXJlIHJlc3BvbnNlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFF1ZXN0aW9ubmFpcmVSZXNwb25zZUJ5VXNlcklkKHVzZXJJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncXVlc3Rpb25uYWlyZV9yZXNwb25zZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGw7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIHVzZXJJZDogZGF0YS51c2VyX2lkLFxuICAgICAgICBhbnN3ZXJzOiBkYXRhLmFuc3dlcnMsXG4gICAgICAgIGlzQ29tcGxldGU6IGRhdGEuaXNfY29tcGxldGUsXG4gICAgICAgIHN1Ym1pdHRlZEF0OiBuZXcgRGF0ZShkYXRhLnN1Ym1pdHRlZF9hdCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGF0YS51cGRhdGVkX2F0KSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBxdWVzdGlvbm5haXJlIHJlc3BvbnNlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVF1ZXN0aW9ubmFpcmVSZXNwb25zZShpbnNlcnRSZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBpbnNlcnQgcXVlc3Rpb25uYWlyZSByZXNwb25zZTonLCBpbnNlcnRSZXNwb25zZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdxdWVzdGlvbm5haXJlX3Jlc3BvbnNlcycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIHVzZXJfaWQ6IGluc2VydFJlc3BvbnNlLnVzZXJJZCxcbiAgICAgICAgICBhbnN3ZXJzOiBpbnNlcnRSZXNwb25zZS5hbnN3ZXJzLFxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvci5kZXRhaWxzLFxuICAgICAgICAgIGhpbnQ6IGVycm9yLmhpbnQsXG4gICAgICAgICAgY29kZTogZXJyb3IuY29kZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdXBhYmFzZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfSAoQ29kZTogJHtlcnJvci5jb2RlfSwgRGV0YWlsczogJHtlcnJvci5kZXRhaWxzfSlgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIHVzZXJJZDogZGF0YS51c2VyX2lkLFxuICAgICAgICBhbnN3ZXJzOiBkYXRhLmFuc3dlcnMsXG4gICAgICAgIHN1Ym1pdHRlZEF0OiBuZXcgRGF0ZShkYXRhLnN1Ym1pdHRlZF9hdCksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGdWxsIGVycm9yIG9iamVjdDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgcXVlc3Rpb25uYWlyZSByZXNwb25zZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRBbGxRdWVzdGlvbm5haXJlUmVzcG9uc2VzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncXVlc3Rpb25uYWlyZV9yZXNwb25zZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLm9yZGVyKCdzdWJtaXR0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN1cGFiYXNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHVzZXJJZDogaXRlbS51c2VyX2lkLFxuICAgICAgICBhbnN3ZXJzOiBpdGVtLmFuc3dlcnMsXG4gICAgICAgIHN1Ym1pdHRlZEF0OiBuZXcgRGF0ZShpdGVtLnN1Ym1pdHRlZF9hdCksXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHF1ZXN0aW9ubmFpcmUgcmVzcG9uc2VzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVByb2Zlc3Npb25hbFNpZ251cChpbnNlcnRTaWdudXApIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Byb2Zlc3Npb25hbF9zaWdudXBzJylcbiAgICAgICAgLmluc2VydChpbnNlcnRTaWdudXApXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN1cGFiYXNlIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGZpcm06IGRhdGEuZmlybSxcbiAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsXG4gICAgICAgIHBob25lOiBkYXRhLnBob25lLFxuICAgICAgICBzcGVjaWFsdHk6IGRhdGEuc3BlY2lhbHR5LFxuICAgICAgICBzdWJtaXR0ZWRBdDogbmV3IERhdGUoZGF0YS5zdWJtaXR0ZWRfYXQpLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHByb2Zlc3Npb25hbCBzaWdudXA6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxsUHJvZmVzc2lvbmFsU2lnbnVwcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3Byb2Zlc3Npb25hbF9zaWdudXBzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5vcmRlcignc3VibWl0dGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdXBhYmFzZSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKGRhdGEgfHwgW10pLm1hcChpdGVtID0+ICh7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgIGZpcm06IGl0ZW0uZmlybSxcbiAgICAgICAgZW1haWw6IGl0ZW0uZW1haWwsXG4gICAgICAgIHBob25lOiBpdGVtLnBob25lLFxuICAgICAgICBzcGVjaWFsdHk6IGl0ZW0uc3BlY2lhbHR5LFxuICAgICAgICBzdWJtaXR0ZWRBdDogbmV3IERhdGUoaXRlbS5zdWJtaXR0ZWRfYXQpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcm9mZXNzaW9uYWwgc2lnbnVwczogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjcmVhdGVDb250YWN0U3VibWlzc2lvbihpbnNlcnRTdWJtaXNzaW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjb250YWN0X3N1Ym1pc3Npb25zJylcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgZmlyc3RfbmFtZTogaW5zZXJ0U3VibWlzc2lvbi5maXJzdE5hbWUsXG4gICAgICAgICAgbGFzdF9uYW1lOiBpbnNlcnRTdWJtaXNzaW9uLmxhc3ROYW1lLFxuICAgICAgICAgIGVtYWlsOiBpbnNlcnRTdWJtaXNzaW9uLmVtYWlsLFxuICAgICAgICAgIHBob25lOiBpbnNlcnRTdWJtaXNzaW9uLnBob25lLFxuICAgICAgICAgIHJlbGF0aW9uc2hpcF9zdGF0dXM6IGluc2VydFN1Ym1pc3Npb24ucmVsYXRpb25zaGlwU3RhdHVzLFxuICAgICAgICAgIG1lc3NhZ2U6IGluc2VydFN1Ym1pc3Npb24ubWVzc2FnZSxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIGZpcnN0TmFtZTogZGF0YS5maXJzdF9uYW1lLFxuICAgICAgICBsYXN0TmFtZTogZGF0YS5sYXN0X25hbWUsXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgICBwaG9uZTogZGF0YS5waG9uZSxcbiAgICAgICAgcmVsYXRpb25zaGlwU3RhdHVzOiBkYXRhLnJlbGF0aW9uc2hpcF9zdGF0dXMsXG4gICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcbiAgICAgICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKGRhdGEuc3VibWl0dGVkX2F0KSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBjb250YWN0IHN1Ym1pc3Npb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxsQ29udGFjdFN1Ym1pc3Npb25zKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY29udGFjdF9zdWJtaXNzaW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ3N1Ym1pdHRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3VwYWJhc2UgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChkYXRhIHx8IFtdKS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgZmlyc3ROYW1lOiBpdGVtLmZpcnN0X25hbWUsXG4gICAgICAgIGxhc3ROYW1lOiBpdGVtLmxhc3RfbmFtZSxcbiAgICAgICAgZW1haWw6IGl0ZW0uZW1haWwsXG4gICAgICAgIHBob25lOiBpdGVtLnBob25lLFxuICAgICAgICByZWxhdGlvbnNoaXBTdGF0dXM6IGl0ZW0ucmVsYXRpb25zaGlwX3N0YXR1cyxcbiAgICAgICAgbWVzc2FnZTogaXRlbS5tZXNzYWdlLFxuICAgICAgICBzdWJtaXR0ZWRBdDogbmV3IERhdGUoaXRlbS5zdWJtaXR0ZWRfYXQpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBjb250YWN0IHN1Ym1pc3Npb25zOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzdG9yYWdlID0gbmV3IFN1cGFiYXNlU3RvcmFnZSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgc3RvcmFnZSwgU3VwYWJhc2VTdG9yYWdlIH07XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwicmVxdWlyZSIsInByb2Nlc3MiLCJlbnYiLCJTVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSIsIlN1cGFiYXNlU3RvcmFnZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsImJjcnlwdCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJwYXNzd29yZCIsImRhdGEiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJlbWFpbCIsImZpcnN0X25hbWUiLCJmaXJzdE5hbWUiLCJsYXN0X25hbWUiLCJsYXN0TmFtZSIsInBob25lIiwicmVsYXRpb25zaGlwX3N0YXR1cyIsInJlbGF0aW9uc2hpcFN0YXR1cyIsInNlbGVjdCIsInNpbmdsZSIsIm1lc3NhZ2UiLCJpZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJjcmVhdGVkX2F0IiwiZ2V0VXNlckJ5RW1haWwiLCJlcSIsImNvZGUiLCJ2YWxpZGF0ZVVzZXIiLCJ1c2VyIiwiaXNWYWxpZCIsImNvbXBhcmUiLCJnZXRVc2VyQnlJZCIsInVzZXJJZCIsImNyZWF0ZU9yVXBkYXRlUXVlc3Rpb25uYWlyZVJlc3BvbnNlIiwiYW5zd2VycyIsImlzQ29tcGxldGUiLCJleGlzdGluZyIsImZpbmRFcnJvciIsInVwZGF0ZSIsImlzX2NvbXBsZXRlIiwidXBkYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwidXNlcl9pZCIsInN1Ym1pdHRlZEF0Iiwic3VibWl0dGVkX2F0IiwidXBkYXRlZEF0IiwiZ2V0UXVlc3Rpb25uYWlyZVJlc3BvbnNlQnlVc2VySWQiLCJjcmVhdGVRdWVzdGlvbm5haXJlUmVzcG9uc2UiLCJpbnNlcnRSZXNwb25zZSIsImRldGFpbHMiLCJoaW50IiwiZ2V0QWxsUXVlc3Rpb25uYWlyZVJlc3BvbnNlcyIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWFwIiwiaXRlbSIsImNyZWF0ZVByb2Zlc3Npb25hbFNpZ251cCIsImluc2VydFNpZ251cCIsIm5hbWUiLCJmaXJtIiwic3BlY2lhbHR5IiwiZ2V0QWxsUHJvZmVzc2lvbmFsU2lnbnVwcyIsImNyZWF0ZUNvbnRhY3RTdWJtaXNzaW9uIiwiaW5zZXJ0U3VibWlzc2lvbiIsImdldEFsbENvbnRhY3RTdWJtaXNzaW9ucyIsInN0b3JhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./server/storage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&page=%2Fapi%2Fquestionnaire%2Fsubmit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquestionnaire%2Fsubmit%2Froute.ts&appDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdub_ceo%2FDownloads%2Fmodern-matrimoney&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();