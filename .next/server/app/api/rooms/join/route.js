(()=>{var e={};e.id=8341,e.ids=[8341],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13779:(e,t,r)=>{"use strict";r.d(t,{F2:()=>s,Ik:()=>o,QK:()=>p,S_:()=>n,T2:()=>a,Y:()=>u,cd:()=>d});var i=r(70762);i.z.object({user_id:i.z.string().uuid(),name:i.z.string().min(1),profile_photo_url:i.z.string().url().optional(),interests:i.z.array(i.z.string()).default([]),career_goals:i.z.string().optional(),mentorship_pref:i.z.enum(["seeking","offering","both","none"]).default("none"),contact_prefs:i.z.record(i.z.any()).default({})}),i.z.object({name:i.z.string().min(1),description:i.z.string().optional(),location:i.z.string().optional(),date_time:i.z.string().datetime(),created_by:i.z.string().uuid().optional()});let s=i.z.object({event_id:i.z.string().uuid().optional(),visibility:i.z.enum(["public","private"]).default("public"),created_by:i.z.string().uuid().optional(),name:i.z.string().min(1),description:i.z.string().optional()}),o=i.z.object({room_id:i.z.string().uuid(),user_id:i.z.string().uuid()});i.z.object({room_id:i.z.string().uuid(),user_a:i.z.string().uuid(),user_b:i.z.string().uuid(),match_score:i.z.number().min(0).max(1).optional(),shared_topics:i.z.array(i.z.string()).default([]),ai_explanation:i.z.string().optional()});let n=i.z.object({match_id:i.z.string().uuid(),user_id:i.z.string().uuid(),payload:i.z.record(i.z.any())}),a=i.z.object({user_id:i.z.string().uuid(),match_id:i.z.string().uuid(),notes:i.z.string().optional()}),u=i.z.object({user_id:i.z.string().uuid(),type:i.z.enum(["priority_visibility","extra_matches","save_contact_card"]),amount_cents:i.z.number().int().default(0),status:i.z.string().default("not_applicable")}),d=i.z.object({email:i.z.string().email(),password:i.z.string().min(6),firstName:i.z.string().min(1),lastName:i.z.string().min(1),phone:i.z.string().optional(),relationshipStatus:i.z.string().optional()}),p=i.z.object({email:i.z.string().email(),password:i.z.string().min(6)})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66762:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>_,routeModule:()=>l,serverHooks:()=>g,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>z});var i={};r.r(i),r.d(i,{POST:()=>c});var s=r(96559),o=r(48088),n=r(37719),a=r(32190),u=r(93939),d=r(13779);let p=(0,u.createClient)("https://estgdcessxwbpdcgpxsa.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY);async function c(e){try{let t=await e.json(),r=d.Ik.parse(t),{data:i}=await p.from("room_members").select("*").eq("room_id",r.room_id).eq("user_id",r.user_id).single();if(i)return a.NextResponse.json({message:"User already in room"},{status:200});let{data:s,error:o}=await p.from("room_members").insert(r).select().single();if(o)throw Error(`Supabase error: ${o.message}`);return a.NextResponse.json(s,{status:201})}catch(e){if(console.error("Error joining room:",e),e instanceof Error&&e.message.includes("validation"))return a.NextResponse.json({error:"Invalid join data provided"},{status:400});return a.NextResponse.json({error:"Failed to join room"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/rooms/join/route",pathname:"/api/rooms/join",filename:"route",bundlePath:"app/api/rooms/join/route"},resolvedPagePath:"/Users/dub_ceo/Desktop/nuconnect/app/api/rooms/join/route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:m,workUnitAsyncStorage:z,serverHooks:g}=l;function _(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:z})}},78335:()=>{},93939:e=>{"use strict";e.exports=require("@supabase/supabase-js")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[4447,580,762],()=>r(66762));module.exports=i})();